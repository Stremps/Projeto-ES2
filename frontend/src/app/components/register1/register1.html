<div class="background-container">
  <div class="overlay"></div>
  
  <div class="content-wrapper">
    <!-- Lado Esquerdo: Logo e Texto -->
    <div class="left-section">
      <div class="logo-container">
        <img src="images/Infinity-Events.png" alt="Logo" class="">
      </div>
      <p class="slogan">ONDE OS EVENTOS AMPLIAM HORIZONTES</p>
    </div>

    <!-- Lado Direito: Formul√°rio de Cadastro -->
    <div class="right-section">
      <div class="register-card">
        <!-- ETAPA 1: Dados Pessoais -->
        <div *ngIf="etapa === 1">
          <h2 class="register-title">Criar Conta</h2>
          
          <form>
            <!-- Nome Completo -->
            <div class="field">
              <label for="nome">Nome Completo</label>
              <input
                type="text"
                id="nome"
                [(ngModel)]="nomeParticipante"
                name="nome"
                placeholder="Jo√£o Silva"
                [disabled]="isSubmitting"
              />
              <span *ngIf="errorNomeParticipante" class="error">{{ errorNomeParticipante }}</span>
            </div>

            <!-- Email -->
            <div class="field">
              <label for="email">Email</label>
              <input
                type="email"
                id="email"
                [(ngModel)]="emailParticipante"
                name="email"
                placeholder="JoaoSilva@email.com"
                [disabled]="isSubmitting"
              />
              <span *ngIf="errorEmailParticipante" class="error">{{ errorEmailParticipante }}</span>
            </div>

            <!-- Telefone -->
            <div class="field">
              <label for="telefone">Telefone</label>
              <input
                type="tel"
                id="telefone"
                [(ngModel)]="telefoneParticipante"
                name="telefone"
                placeholder="(45)99932-2300"
                [disabled]="isSubmitting"
              />
              <span *ngIf="errorTelefoneParticipante" class="error">{{ errorTelefoneParticipante }}</span>
            </div>

            <!-- Senha -->
            <div class="field">
              <label for="senha">Senha</label>
              <div class="password-wrapper">
                <input
                  [type]="mostrarSenha ? 'text' : 'password'"
                  id="senha"
                  [(ngModel)]="senhaParticipante"
                  name="senha"
                  placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                  [disabled]="isSubmitting"
                />
                <button
                  type="button"
                  class="toggle-password"
                  (click)="onToggleSenha()"
                  [disabled]="isSubmitting"
                >
                  {{ mostrarSenha ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è' }}
                </button>
              </div>
              <span *ngIf="errorSenhaParticipante" class="error">{{ errorSenhaParticipante }}</span>
            </div>

            <!-- Tipo de Participa√ß√£o -->
            <div class="field">
              <label for="cargo">Qual seu tipo de participa√ß√£o no evento?</label>
              <p-select
                id="cargo"
                [(ngModel)]="cargo"
                [options]="cargos"
                optionLabel="label"
                optionValue="value"
                placeholder="Selecionar"
                name="cargo"
                [disabled]="isSubmitting"
                styleClass="custom-select"
              ></p-select>
              <span *ngIf="errorCargo" class="error">{{ errorCargo }}</span>
            </div>

            <!-- Bot√£o Pr√≥xima Etapa -->
            <button 
              type="button" 
              class="btn-next"
              (click)="proximaEtapa()"
              [disabled]="isSubmitting"
            >
              <span>PR√ìXIMO</span>
              <i class="pi pi-arrow-right"></i>
            </button>
          </form>

          <!-- Link Login -->
          <div class="login-link">
            <span>J√° tenho uma conta? </span>
            <a routerLink="/login" class="link-login">J√° tenho uma conta</a>
          </div>
        </div>

        <!-- ETAPA 2: Endere√ßo -->
        <div *ngIf="etapa === 2">
          <h2 class="register-title">Criar Conta</h2>
          
          <form (ngSubmit)="onSubmit()">
            <!-- Estado e Cidade lado a lado -->
            <div class="field-row">
              <div class="field field-half">
                <label for="estado">Estado</label>
                <p-select
                  id="estado"
                  [(ngModel)]="siglaUf"
                  [options]="[
                    { label: 'Selecionar', value: '' },
                    { label: 'PR', value: 'PR' },
                    { label: 'SC', value: 'SC' },
                    { label: 'SP', value: 'SP' }
                  ]"
                  optionLabel="label"
                  optionValue="value"
                  placeholder="Selecionar"
                  name="estado"
                  [disabled]="isSubmitting"
                ></p-select>
                <span *ngIf="errorSiglaUf" class="error">{{ errorSiglaUf }}</span>
              </div>

              <div class="field field-half">
                <label for="cidade">Cidade</label>
                <p-select
                  id="cidade"
                  [(ngModel)]="nomeCidade"
                  [options]="[
                    { label: 'Selecionar', value: '' },
                    { label: 'Foz do Igua√ßu', value: 'Foz do Igua√ßu' },
                    { label: 'Curitiba', value: 'Curitiba' }
                  ]"
                  optionLabel="label"
                  optionValue="value"
                  placeholder="Selecionar"
                  name="cidade"
                  [disabled]="isSubmitting"
                ></p-select>
                <span *ngIf="errorNomeCidade" class="error">{{ errorNomeCidade }}</span>
              </div>
            </div>

            <!-- Bairro e Rua lado a lado -->
            <div class="field-row">
              <div class="field field-half">
                <label for="bairro">Bairro</label>
                <input
                  type="text"
                  id="bairro"
                  [(ngModel)]="nomeBairro"
                  name="bairro"
                  placeholder="Vila Yolanda"
                  [disabled]="isSubmitting"
                />
                <span *ngIf="errorNomeBairro" class="error">{{ errorNomeBairro }}</span>
              </div>

              <div class="field field-half">
                <label for="rua">Rua</label>
                <input
                  type="text"
                  id="rua"
                  [(ngModel)]="nomeLogradouro"
                  name="rua"
                  placeholder="Av. das Cataratas"
                  [disabled]="isSubmitting"
                />
                <span *ngIf="errorNomeLogradouro" class="error">{{ errorNomeLogradouro }}</span>
              </div>
            </div>

            <!-- N√∫mero e CEP lado a lado -->
            <div class="field-row">
              <div class="field field-small">
                <label for="numero">N√∫mero</label>
                <input
                  type="text"
                  id="numero"
                  [(ngModel)]="numero"
                  name="numero"
                  placeholder="150"
                  [disabled]="isSubmitting"
                />
                <span *ngIf="errorNumero" class="error">{{ errorNumero }}</span>
              </div>

              <div class="field field-large">
                <label for="cep">CEP</label>
                <input
                  type="text"
                  id="cep"
                  [(ngModel)]="cep"
                  name="cep"
                  placeholder="85873-190"
                  [disabled]="isSubmitting"
                />
                <span *ngIf="errorCep" class="error">{{ errorCep }}</span>
              </div>
            </div>

            <!-- Complemento -->
            <div class="field">
              <label for="complemento">Complemento</label>
              <input
                type="text"
                id="complemento"
                [(ngModel)]="complemento"
                name="complemento"
                placeholder="Av. das Cataratas"
                [disabled]="isSubmitting"
              />
            </div>

            <!-- Bot√µes de Navega√ß√£o -->
            <div class="button-row">
              <button 
                type="button" 
                class="btn-back"
                (click)="etapaAnterior()"
                [disabled]="isSubmitting"
              >
                <i class="pi pi-arrow-left"></i>
              </button>

              <button 
                type="submit" 
                class="btn-submit"
                [disabled]="isSubmitting"
              >
                {{ isSubmitting ? 'CADASTRANDO...' : 'CADASTRAR' }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
